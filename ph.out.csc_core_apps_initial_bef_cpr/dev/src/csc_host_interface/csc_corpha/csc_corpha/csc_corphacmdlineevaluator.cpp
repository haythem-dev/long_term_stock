//--------------------------------------------------------------------------------------------------//
/*! \brief 
 *  \author     Bjoern Bischof
 *  \date       22.12.2010
 *  \version    00.00.00.01
 */ //--------------------------------------------------------------------------------------------------//

//--------------------------------------------------------------------------------------------------//
// include section
//--------------------------------------------------------------------------------------------------//
#include "csc_corphacmdlineevaluator.h"
#include "csc_corpha_definitions.h"

//--------------------------------------------------------------------------------------------------//
// include section
//--------------------------------------------------------------------------------------------------//
namespace csc_corpha
{
	namespace cmdLine
	{

		//--------------------------------------------------------------------------------------------------//
		CSC_CorphaCmdLineEvaluator::CSC_CorphaCmdLineEvaluator( const ::libBatch::cmdLine::CmdLineConfiguration& cmdLineConfiguration )
			: ::libBatch::cmdLine::CmdLineEvaluator( cmdLineConfiguration )
		{
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		CSC_CorphaCmdLineEvaluator::~CSC_CorphaCmdLineEvaluator()
		{
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		basar::Int16	CSC_CorphaCmdLineEvaluator::getBranchNo() const
		{
			return m_AppArgs.m_BranchNo;
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		basar::VarString	CSC_CorphaCmdLineEvaluator::getConfigFile() const 
		{
			return m_AppArgs.m_ConfigFile;
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		basar::VarString CSC_CorphaCmdLineEvaluator::getOrderFilter() const
		{
			return m_AppArgs.m_OrderFilter;
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		bool CSC_CorphaCmdLineEvaluator::getTestingMode() const
		{
			return m_AppArgs.m_Testing;
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		bool CSC_CorphaCmdLineEvaluator::getNoMail() const
		{
			return m_AppArgs.m_NoMail;
		}
		//--------------------------------------------------------------------------------------------------//		

		//--------------------------------------------------------------------------------------------------//
		bool CSC_CorphaCmdLineEvaluator::getExtendedLogging() const
		{
			return m_AppArgs.m_ExtendedLogging;
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		basar::VarString CSC_CorphaCmdLineEvaluator::getApplicationName() const
		{
			return csc_corpha::APPLICATION_NAME;
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		bool CSC_CorphaCmdLineEvaluator::evaluateAppArgs()
		{
			readInBranchNo();
			readInConfigFile();
			readInOrderFilter();
			readInTesting();
			readInNoMail();			
			readInExtendedLogging();

			bool retval = true;

			if( !m_AppArgs.isBranchNoValid() ) retval = false;
			if( !m_AppArgs.isOrderFilterValid() ) retval = false;
			
			return retval; 
		}		
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		void CSC_CorphaCmdLineEvaluator::readInBranchNo()
		{
			m_CmdLineParser.getMandatoryInt16( cmdLine::BRANCHNO, m_AppArgs.m_BranchNo );
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		void CSC_CorphaCmdLineEvaluator::readInConfigFile()
		{
			m_CmdLineParser.getMandatoryVarString( cmdLine::CONFIGFILE, m_AppArgs.m_ConfigFile );
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		void CSC_CorphaCmdLineEvaluator::readInOrderFilter()
		{			
			m_CmdLineParser.getMandatoryVarString( cmdLine::ORDERFILTER, m_AppArgs.m_OrderFilter );
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		void CSC_CorphaCmdLineEvaluator::readInTesting()
		{
			m_AppArgs.m_Testing = m_CmdLineParser.isParam( cmdLine::TESTING );
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		void CSC_CorphaCmdLineEvaluator::readInNoMail()
		{
			m_AppArgs.m_NoMail = m_CmdLineParser.isParam( cmdLine::NOMAIL );
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		void CSC_CorphaCmdLineEvaluator::readInExtendedLogging()
		{
			m_AppArgs.m_ExtendedLogging = m_CmdLineParser.isParam( cmdLine::EXTENDEDLOGGING );
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		bool CSC_CorphaCmdLineEvaluator::isTestingSet() const
		{
			return m_AppArgs.m_Testing;
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		bool CSC_CorphaCmdLineEvaluator::isNoMailSet() const
		{
			return m_AppArgs.m_NoMail;
		}
		//--------------------------------------------------------------------------------------------------//

		//--------------------------------------------------------------------------------------------------//
		bool CSC_CorphaCmdLineEvaluator::isExtendedLoggingSet() const
		{
			return m_AppArgs.m_ExtendedLogging;
		}
		//--------------------------------------------------------------------------------------------------//

	} // end namespace cmdLine
} // end namespace csc_corpha
