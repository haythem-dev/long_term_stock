###############################################################################################
# HEADER-DATA 
###############################################################################################
#Author:        	Bischof Bjoern 
#Creation-Date: 	19.07.2008
#Creation-Time: 	19:43h
#Purpose:           Maps the passed branch no to the corresponding database
#Version:           2.0.0.3 2013-06-05 AIX
###############################################################################################

#====================================#
# FUNCTION start_process
#====================================#
function get_ksc_db
{
	#-------------------------------------------------------------------------------------#
	# LOCAL VARIABLES
	#-------------------------------------------------------------------------------------#
	local readonly _FUNCNAME="get_ksc_db";
	local readonly _BRANCHNO=${1};	
	local readonly _OK_RC=0;
	local readonly _NO_PARAMETER_RC=1;	
	local readonly _NO_NUMERIC_PARAMETER_RC=2;
	local readonly _NO_VALID_BRANCHNO_RC=3;

	#-------------------------------------------------------------------------------------#
	# EVALUATION OF PARAMETER
	#-------------------------------------------------------------------------------------#
	if (( $# == 0 )) ; then 
		echo "${_FUNCNAME} was called without any parameter!"; 
		return ${_NO_PARAMETER_RC}; 
	fi

	#-------------------------------------------------------------------------------------#
	# CHECKING IF PASSED PARAMETER IS NUMERIC
	#-------------------------------------------------------------------------------------#
	is_numeric "${_BRANCHNO}" "-NO_VERBOSE"
	if (( 0 == $? )); then 
		echo "${_FUNCNAME}: Passed first parameter <${_BRANCHNO}> was not numeric!"; 
		return ${_NO_NUMERIC_PARAMETER_RC}; 		
	fi
	
	#-------------------------------------------------------------------------------------#
	# MAPPING THE PASSED BRANCHNO TO THE CONCERNING DATABASE
	#-------------------------------------------------------------------------------------#
	local _db="";
	case ${_BRANCHNO} in
		05|5|06|08|09|6|8|9|21|31|33|40|44|46|56|57|59|70|78)	_db="ode21"
						;;
		30|32|34|35|36|37|38|39|47)     		_db="ofr21"
						;;
		12|13) 						    		_db="och21"
						;;
		48|49)	                        		_db="ofr21pre"
						;;
		61|62|63|64)		        			_db="oat21"
						;;
		71|72|73|74|75|77)	        			_db="ohr21"
						;;
		51|52|54|58|81|82)   		_db="ode22"
						;;
		84|85)   								_db="ors21"
						;;
		*)	echo "No valid branch no <${_BRANCHNO}> passed! Branch no could not be matched to a database!";
			return ${_NO_VALID_BRANCHNO_RC};
			;;
	esac

	#-------------------------------------------------------------------------------------#
	# IF SO SWITCHING TO EMERGENCY DATABASE
	#-------------------------------------------------------------------------------------#								
	if [[ "" != ${BACKUPFLAG} ]] ;then
		_db=${_db}e;
	fi

	echo ${_db};

	return ${_OK_RC};
}
